Context,Module,Type,Name,Responsibility,Dependency,PerformanceNote,NamingRationale 
"T018","insight","Design","Log Format Strategy","Xác định định dạng log mục tiêu mà engine 'insight' sẽ phân tích.","N/A","Ưu tiên các định dạng có cấu trúc (structured) để tối ưu hiệu năng phân tích, tránh sử dụng regex tốn kém CPU.","N/A"
"T018","insight","Decision","JSON First","Quyết định 'insight' sẽ được thiết kế để phân tích log có định dạng JSON theo từng dòng (JSON-lines).","Log Format Strategy","Việc phân tích JSON nhanh hơn đáng kể so với dùng grok/regex trên các định dạng văn bản phẳng như Nginx-combined. Phù hợp với triết lý hiệu năng của hệ thống.","'JSON First' thể hiện rõ định hướng ưu tiên và tập trung vào định dạng JSON."
"T018","insight","Design","Parser and Lens","Thiết kế cách 'glimpse::Parser' và 'Lens' hoạt động với log JSON.","JSON First","Phải tuân thủ triết lý zero-copy và phân tích lười biếng (lazy parsing) để đạt hiệu năng cao nhất.","N/A"
"T018","insight","Decision","Lazy Querying Lens","'Parser' chỉ xác định ranh giới dòng JSON. 'Lens' (sẽ gọi là 'Entry') sẽ chứa slice byte của dòng log và cung cấp các phương thức truy vấn lười biếng (ví dụ: 'entry.text(\"key\")') thay vì phân tích toàn bộ JSON ngay từ đầu.","Parser and Lens","Tránh cấp phát bộ nhớ và phân tích toàn bộ DOM cho mỗi dòng log. Chỉ trả tiền (chi phí CPU) cho những dữ liệu thực sự được truy vấn.","'Lazy Querying Lens' mô tả chính xác cơ chế cốt lõi của 'Lens' là truy vấn lười biếng."
"T018","insight","Design","Public API","Thiết kế giao diện lập trình ứng dụng cho module 'insight'.","Lazy Querying Lens","API cần phải đơn giản, trực quan, và quen thuộc với các lập trình viên Rust, tận dụng các mẫu thiết kế sẵn có như iterator và fluent API.","N/A"
"T018","insight","Decision","Fluent Iterator","Cung cấp hàm 'insight::open(path)' trả về một 'Processor' triển khai 'Iterator'. Người dùng có thể sử dụng các phương thức chuẩn như 'filter', 'map' để tạo chuỗi xử lý log.","Public API","Tái sử dụng tối đa các thành phần từ 'glimpse', cung cấp một giao diện mạnh mẽ và quen thuộc, giảm thiểu đường cong học tập cho người dùng.","'Fluent Iterator' mô tả chính xác trải nghiệm người dùng cuối là làm việc với một iterator theo phong cách fluent." 